# ุฏููู ุณุฑูุน - Railway ุงููุดุฑ ุงูุชููุงุฆู

## โ ูุง ุณูุนูู ุชููุงุฆูุงู (ุจุฏูู ุชุฏุฎู ููู)

1. **ุงูุชุบููุฑุงุช ูู ุงูููุฏ:**
   - ุชุญุฏูุซ `package.json` (build script)
   - ุชุญุฏูุซ `prisma/schema.prisma` (directUrl)
   - ุชุญุฏูุซ `nixpacks.toml`
   
   **ููู:** ููุท ุงุฏูุน ุงูููุฏ ุฅูู GitHubุ Railway ุณููุชุดู ุงูุชุบููุฑุงุช ุชููุงุฆูุงู

2. **ุนูููุฉ ุงูุจูุงุก:**
   - Railway ูุณุชุฎุฏู `nixpacks.toml` ุชููุงุฆูุงู
   - ุณูุดุบู `prisma generate` ูุจู `next build`
   - ูู ูุญุงูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃุซูุงุก ุงูุจูุงุก

## โ๏ธ ูุง ูุญุชุงุฌ ุชุฏุฎู ูุฏูู ููู

### 1. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Railway Dashboard

**ูุฐุง ููู ุฌุฏุงู!** ุจุฏูู ูุฐู ุงููุชุบูุฑุงุชุ ุงูุชุทุจูู ูู ูุนูู.

#### ุงูุฎุทูุงุช:

1. **ุงุฐูุจ ุฅูู Railway Dashboard:**
   - https://railway.app/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงุฎุชุฑ ุฎุฏูุชู (Service):**
   - ุงููุฑ ุนูู ุฎุฏูุฉ Next.js ุงูุฎุงุตุฉ ุจู

3. **ุงูุชุญ ุชุจููุจ Variables:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงููุฑ ุนูู **"Variables"**

4. **ุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:**

   **ุฃ) DATABASE_URL:**
   - ุงููุฑ ุนูู **"+ New Variable"**
   - **Name:** `DATABASE_URL`
   - **Value:** ุงุญุตู ุนููู ูู:
     - Railway Dashboard โ PostgreSQL Service โ Connect tab
     - ุงูุณุฎ "Connection URL" (Internal URL)
     - ูุซุงู: `postgresql://postgres:password@postgres.railway.internal:5432/railway`
   - ุงููุฑ **"Add"**

   **ุจ) DIRECT_URL:**
   - ุงููุฑ ุนูู **"+ New Variable"**
   - **Name:** `DIRECT_URL`
   - **Value:** ููุณ ูููุฉ `DATABASE_URL` (ุงูุณุฎ ููุณ ุงูุฑุงุจุท)
   - ุงููุฑ **"Add"**

   **ุฌ) NEXTAUTH_URL:**
   - ุงููุฑ ุนูู **"+ New Variable"**
   - **Name:** `NEXTAUTH_URL`
   - **Value:** ุฑุงุจุท ุชุทุจููู ุนูู Railway
     - ุจุนุฏ ุงููุดุฑ ุงูุฃููุ Railway ูุนุทูู ุฑุงุจุท ูุซู: `https://your-app.railway.app`
     - ุฃู ุงุณุชุฎุฏู ูุทุงูู ุงููุฎุตุต
   - ุงููุฑ **"Add"**

   **ุฏ) NEXTAUTH_SECRET:**
   - ุงููุฑ ุนูู **"+ New Variable"**
   - **Name:** `NEXTAUTH_SECRET`
   - **Value:** ููุชุงุญ ุณุฑู (ุฃูุดุฆู ุจูุฐุง ุงูุฃูุฑ):
     ```bash
     openssl rand -base64 32
     ```
     ุฃู ูู Windows PowerShell:
     ```powershell
     [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
     ```
   - ุงููุฑ **"Add"**

### 2. ุงูุชุญูู ูู PostgreSQL Service

- ุชุฃูุฏ ูู ุฃู ุฎุฏูุฉ PostgreSQL ููุฌูุฏุฉ ููุดุบูุฉ
- Railway ุนุงุฏุฉ ููุดุฆ `DATABASE_URL` ุชููุงุฆูุงูุ ููู ุชุญูู ููู

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ

ูุจู ุงููุดุฑุ ุชุฃูุฏ ูู:

- [ ] `DATABASE_URL` ููุฌูุฏ ูู Variables
- [ ] `DIRECT_URL` ููุฌูุฏ ูู Variables (ููุณ ูููุฉ DATABASE_URL)
- [ ] `NEXTAUTH_URL` ููุฌูุฏ ูู Variables
- [ ] `NEXTAUTH_SECRET` ููุฌูุฏ ูู Variables
- [ ] ุฎุฏูุฉ PostgreSQL ูุดุบูุฉ
- [ ] ุงูููุฏ ูุญุฏุซ ุนูู GitHub

## ๐ ุจุนุฏ ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช

1. **ุงุฏูุน ุงูููุฏ ุฅูู GitHub:**
   ```bash
   git add .
   git commit -m "Ready for Railway"
   git push origin main
   ```

2. **Railway ุณูููู ุชููุงุฆูุงู ุจู:**
   - ุงูุชุดุงู ุงูุชุบููุฑุงุช
   - ุจูุงุก ุงููุดุฑูุน (ุจุงุณุชุฎุฏุงู nixpacks.toml)
   - ุชุดุบูู ุงููุฌุฑุงุช ุนูุฏ ุงูุจุฏุก
   - ูุดุฑ ุงูุชุทุจูู

3. **ุฑุงูุจ ุงููุดุฑ:**
   - Railway Dashboard โ ุฎุฏูุชู โ Deployments
   - ุดุงูุฏ ุงูุณุฌูุงุช ููุชุฃูุฏ ูู ูุฌุงุญ ุงูุจูุงุก

## โ ูุงุฐุง ูู ูู ูุนููุ

### ุฎุทุฃ: P1001 Can't reach database server

**ุงูุณุจุจ:** `DIRECT_URL` ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ุตุญูุญ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฅุถุงูุฉ `DIRECT_URL` ูู Variables
2. ุงุณุชุฎุฏู ููุณ ูููุฉ `DATABASE_URL`
3. ุฃุนุฏ ุงููุดุฑ

### ุฎุทุฃ: Invalid DATABASE_URL

**ุงูุณุจุจ:** `DATABASE_URL` ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ุตุญูุญ

**ุงูุญู:**
1. Railway Dashboard โ PostgreSQL โ Connect
2. ุงูุณุฎ "Connection URL"
3. ุฃุถูู ูู Variables ูู `DATABASE_URL`
4. ุฃุนุฏ ุงููุดุฑ

## ๐ ููุฎุต

**ูุง ูุญุชุงุฌ ุชุฏุฎู ูุฏูู:**
- โ ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Railway Dashboard (ูุฑุฉ ูุงุญุฏุฉ ููุท)

**ูุง ูุนูู ุชููุงุฆูุงู:**
- โ ุงูุชุดุงู ุงูุชุบููุฑุงุช ูู GitHub
- โ ุนูููุฉ ุงูุจูุงุก
- โ ุชุดุบูู ุงููุฌุฑุงุช
- โ ุงููุดุฑ

**ุงูุฎูุงุตุฉ:** ุจุนุฏ ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ูุฑุฉ ูุงุญุฏุฉุ ูู ุดูุก ุณูุนูู ุชููุงุฆูุงู ุนูุฏ push ุงูููุฏ!

