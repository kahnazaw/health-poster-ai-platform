# منصة بوسترات التوعية الصحية

منصة مؤسسية رسمية لتوليد بوسترات التوعية الصحية بالذكاء الاصطناعي

**الجهة المالكة:** دائرة صحة كركوك – قطاع كركوك الأول – وحدة تعزيز الصحة

## المميزات

- ✅ نظام تسجيل دخول آمن مع صلاحيات (Admin / User)
- ✅ لوحة تحكم إدارية لإدارة المستخدمين
- ✅ توليد بوسترات توعية صحية احترافية
- ✅ تحميل الصور عالية الجودة
- ✅ تحميل PDF
- ✅ طباعة مباشرة
- ✅ واجهة عصرية متجاوبة مع دعم RTL كامل
- ✅ تصميم مؤسسي بألوان طبية هادئة

## التقنيات المستخدمة

- **Frontend:** Next.js 14 + React + TypeScript
- **Backend:** Next.js API Routes
- **Database:** SQLite + Prisma ORM
- **Authentication:** NextAuth.js
- **Styling:** Tailwind CSS
- **PDF Generation:** jsPDF + html2canvas

## التثبيت والتشغيل

### 1. تثبيت المتطلبات

```bash
npm install
```

### 2. إعداد قاعدة البيانات

```bash
# توليد Prisma Client
npm run db:generate

# إنشاء قاعدة البيانات
npm run db:push
```

### 3. إنشاء حساب المدير الافتراضي

```bash
npx ts-node scripts/init-db.ts
```

**بيانات تسجيل الدخول الافتراضية:**
- البريد: `admin@health.gov.iq`
- كلمة المرور: `Admin@123`

⚠️ **مهم:** قم بتغيير كلمة المرور بعد أول تسجيل دخول!

### 4. تشغيل المشروع

```bash
# وضع التطوير
npm run dev

# بناء للإنتاج
npm run build
npm start
```

المشروع سيعمل على: `http://localhost:3000`

## هيكل المشروع

```
health-poster-ai-platform/
├── app/                    # صفحات Next.js
│   ├── api/               # API Routes
│   ├── dashboard/         # لوحات التحكم
│   ├── login/             # صفحة تسجيل الدخول
│   └── layout.tsx         # التخطيط الرئيسي
├── components/            # المكونات القابلة لإعادة الاستخدام
├── lib/                   # المكتبات والمساعدات
├── prisma/                # مخطط قاعدة البيانات
├── scripts/               # سكربتات مساعدة
└── types/                 # تعريفات TypeScript
```

## الصلاحيات

### Admin (مدير)
- إضافة مستخدمين جدد
- تعديل بيانات المستخدمين
- تغيير صلاحيات المستخدمين
- حذف المستخدمين
- توليد البوسترات

### User (مستخدم)
- توليد البوسترات فقط

## استخدام API

### توليد بوستر

```bash
POST /api/posters/generate
Content-Type: application/json

{
  "topic": "نظافة الأسنان"
}
```

### إدارة المستخدمين (Admin فقط)

```bash
# الحصول على جميع المستخدمين
GET /api/users

# إضافة مستخدم جديد
POST /api/users
{
  "email": "user@example.com",
  "password": "password123",
  "name": "اسم المستخدم",
  "role": "USER"
}

# تعديل مستخدم
PATCH /api/users/[id]
{
  "name": "اسم جديد",
  "role": "ADMIN"
}

# حذف مستخدم
DELETE /api/users/[id]
```

## ملاحظات مهمة

1. **الأمان:** تأكد من تغيير `NEXTAUTH_SECRET` في ملف `.env.local`
2. **قاعدة البيانات:** في الإنتاج، استخدم PostgreSQL أو MySQL بدلاً من SQLite
3. **توليد المحتوى:** حالياً يستخدم محاكاة بسيطة، يمكن ربطها بـ OpenAI API
4. **الطباعة:** البوسترات مصممة بحجم A4 عمودي

## الترخيص

هذا المشروع مملوك لدائرة صحة كركوك – قطاع كركوك الأول – وحدة تعزيز الصحة

## الدعم

للأسئلة والدعم الفني، يرجى التواصل مع فريق التطوير.
