# ููุฎุต ููุฒุฉ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ - ุจุงูุนุฑุจูุฉ
## Statistics & Reporting Feature Summary - In Arabic

---

## โ ูุง ุชู ุฅุถุงูุชู | What Was Added

### 1. โ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database Update

**ุชู ุฅุถุงูุฉ ุนููุฏ ุฌุฏูุฏ:**
- `posters_generated_count` (ุนุฏุฏ ุตุญูุญุ ุงูุชุฑุงุถู 0)
- ูู ุฌุฏูู `user_profiles`

**ุงูููู:** `V2__add_posters_generated_count.sql`

---

### 2. โ ููุทู ุงูุชุชุจุน | Tracking Logic

**ูู `PosterController.java`:**
- โ ุนูุฏ ุชูููุฏ ุจูุณุชุฑ ุนุงุฏู (`POST /api/posters/generate`)
- โ ุนูุฏ ุชูููุฏ ุจูุณุชุฑ ุชุฑุญูุจู (`GET /api/posters/welcome/{centerId}`)
- โ ูุชู ุฒูุงุฏุฉ ุงูุนุฏุฏ ุชููุงุฆูุงู
- โ ูุนูู ูู ุงูุฎูููุฉ ุจุฏูู ุฅุจุทุงุก

**ูู `UserProfileService.java`:**
- โ ุฏุงูุฉ `incrementPostersCount()` ุฌุฏูุฏุฉ
- โ ุชุนูู ุจุดูู ุขูู (ูุง ุชูุดู ุฅุฐุง ุญุฏุซ ุฎุทุฃ)

---

### 3. โ ููุทุฉ ููุงูุฉ ุงูุฅุฏุงุฑุฉ | Admin Endpoint

**ูู `AdminController.java` (ุฌุฏูุฏ):**

**GET `/api/admin/statistics`**
- โ ุชุนูุฏ ูุงุฆูุฉ ุจุฌููุน ุงููุฑุงูุฒ ุงูุตุญูุฉ ุงูู 23
- โ ุนุฏุฏ ุงูุจูุณุชุฑุงุช ููู ูุฑูุฒ
- โ ุงูุฅุฌูุงูู ุงูููู

**ูุซุงู ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "totalCenters": 23,
  "totalPostersGenerated": 150,
  "centers": [
    {
      "centerId": "hc_center_01",
      "healthCenterName": "ุงููุฑูุฒ ุงูุตุญู ุงูุฃูู",
      "managerName": "ุฏ. ุฃุญูุฏ ูุญูุฏ ุนูู",
      "postersGeneratedCount": 12
    }
  ]
}
```

---

### 4. โ ุชุตุฏูุฑ CSV | CSV Export

**GET `/api/admin/statistics/export`**
- โ ุชุญููู ุงูุชูุฑูุฑ ูููู CSV
- โ ุฌุงูุฒ ููุนุฑุถ ูู Excel
- โ ูุฏุนู ุงูุนุฑุจูุฉ (UTF-8)

**ูุญุชูู ุงูููู:**
```csv
Center ID,Health Center Name,Manager Name,Posters Generated
hc_center_01,ุงููุฑูุฒ ุงูุตุญู ุงูุฃูู,ุฏ. ุฃุญูุฏ ูุญูุฏ ุนูู,12
hc_center_02,ุงููุฑูุฒ ุงูุตุญู ุงูุซุงูู,ุฏ. ูุงุทูุฉ ุญุณู,8
...
```

---

### 5. โ ุถูุงู ุงูุฌูุฏุฉ | Quality Assurance

- โ **ุบูุฑ ูุชุฒุงูู:** ูุง ูุจุทุฆ ุชูููุฏ ุงูุจูุณุชุฑุงุช
- โ **ุขูู:** ุฅุฐุง ูุดู ุงูุชุชุจุนุ ูุง ููุดู ุชูููุฏ ุงูุจูุณุชุฑ
- โ **ุชููุงุฆู:** ูุง ุญุงุฌุฉ ูุฅุฌุฑุงุก ูุฏูู
- โ **ุตุงูุช:** ูุนูู ูู ุงูุฎูููุฉ

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู | How to Use

### 1. ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช:

```
http://localhost:8080/api/admin/statistics
```

### 2. ุชุญููู ุงูุชูุฑูุฑ CSV:

```
http://localhost:8080/api/admin/statistics/export
```

**ุฃู ุจุงุณุชุฎุฏุงู curl:**
```bash
curl http://localhost:8080/api/admin/statistics/export --output statistics.csv
```

### 3. ูุชุญ ูู Excel:

1. ุญููู ุงูููู CSV
2. ุงูุชุญู ูู Excel
3. ุณูุชู ุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ | Required Steps

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

ุดุบูู ููู SQL:
```sql
-- ูู: V2__add_posters_generated_count.sql
ALTER TABLE user_profiles 
ADD COLUMN IF NOT EXISTS posters_generated_count INTEGER DEFAULT 0;
```

### 2. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู:

```bash
mvn spring-boot:run
```

### 3. ุงูุชุญูู:

```bash
# ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
curl http://localhost:8080/api/admin/statistics

# ุชุญููู CSV
curl http://localhost:8080/api/admin/statistics/export --output stats.csv
```

---

## ๐ฏ ุงููููุงุช ุงููุญุฏุซุฉ | Updated Files

1. โ `UserProfile.java` - ุฃุถูู ุนููุฏ `postersGeneratedCount`
2. โ `V2__add_posters_generated_count.sql` - ููู Migration
3. โ `UserProfileService.java` - ุฃุถููุช ุฏุงูุฉ `incrementPostersCount()`
4. โ `PosterController.java` - ุชุชุจุน ุชูููุฏ ุงูุจูุณุชุฑุงุช
5. โ `AdminController.java` - ููุทุฉ ููุงูุฉ ุงูุฅุญุตุงุฆูุงุช (ุฌุฏูุฏ)
6. โ `STATISTICS_GUIDE.md` - ุฏููู ูุงูู

---

## โจ ุงููููุฒุงุช | Features

### โ ุชุชุจุน ุชููุงุฆู
- ูู ุจูุณุชุฑ ูุชู ุชูููุฏู ูุฒูุฏ ุงูุนุฏุฏ ุชููุงุฆูุงู
- ูุง ุญุงุฌุฉ ูุฅุฌุฑุงุก ูุฏูู

### โ ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
- ููุทุฉ ููุงูุฉ ูุงุญุฏุฉ ูุนุฑุถ ุฌููุน ุงูุฅุญุตุงุฆูุงุช
- JSON ุณูู ุงููุฑุงุกุฉ

### โ ุชุตุฏูุฑ CSV
- ุฌุงูุฒ ููุนุฑุถ ูู Excel
- ูุฏุนู ุงูุนุฑุจูุฉ
- ููุงุณุจ ููุนุฑุถ ุนูู ุงููุฏูุฑูุฉ

### โ ุฃุฏุงุก ุนุงูู
- ูุนูู ูู ุงูุฎูููุฉ
- ูุง ูุจุทุฆ ุชูููุฏ ุงูุจูุณุชุฑุงุช
- ุขูู ููุณุชูุฑ

---

## ๐ ูุซุงู ุงูุงุณุชุฎุฏุงู | Usage Example

### ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช:

```bash
curl http://localhost:8080/api/admin/statistics
```

**ุงููุชูุฌุฉ:**
```json
{
  "totalCenters": 23,
  "totalPostersGenerated": 245,
  "centers": [
    {
      "centerId": "hc_center_01",
      "healthCenterName": "ุงููุฑูุฒ ุงูุตุญู ุงูุฃูู",
      "managerName": "ุฏ. ุฃุญูุฏ ูุญูุฏ ุนูู",
      "postersGeneratedCount": 15
    }
  ]
}
```

### ุชุญููู CSV:

```bash
curl http://localhost:8080/api/admin/statistics/export --output report.csv
```

**ุงููุชูุฌุฉ:** ููู CSV ุฌุงูุฒ ููุนุฑุถ ูู Excel

---

## ๐ ุงูุฎูุงุตุฉ | Summary

**ุชู ุฅุถุงูุฉ ููุฒุฉ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ ุจูุฌุงุญ!**

**Statistics & Reporting feature has been successfully added!**

**ุงููููุฒุงุช:**
- โ ุชุชุจุน ุชููุงุฆู ูุฌููุน ุงูุจูุณุชุฑุงุช
- โ ููุทุฉ ููุงูุฉ ููุฅุญุตุงุฆูุงุช
- โ ุชุตุฏูุฑ CSV ููุนุฑุถ ูู Excel
- โ ูุนูู ูู ุงูุฎูููุฉ ุจุฏูู ุฅุจุทุงุก

**Features:**
- โ Automatic tracking of all posters
- โ Statistics endpoint
- โ CSV export for Excel
- โ Runs in background without slowing down

**ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู!** ๐

---

**ุชู ุงูุชุทููุฑ ูุฏุงุฆุฑุฉ ุตุญุฉ ูุฑููู โ ูุทุงุน ูุฑููู ุงูุฃูู**  
**Developed for Kirkuk Health Directorate - First Sector**

